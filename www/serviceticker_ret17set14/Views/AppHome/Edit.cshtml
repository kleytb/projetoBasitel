@model MzServiceTicker.DataViewModels.TicketViewModel

<link href="@Url.Content("~/Content/css/bootstrap-datetimepicker.css")" rel="stylesheet" media="all">

<script type="text/javascript" charset="UTF-8" src="@Url.Content("~/Content/script/moment-with-langs.min.js")"></script>
<script type="text/javascript" charset="UTF-8" src="@Url.Content("~/Content/script/bootstrap-datetimepicker.min.js")"></script>

<div class="row">

    <table class="table table-striped table-hover">
        <tr>
            <td>
                @Html.Label(MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.Code"))
            </td>
            <td>
                @Html.DisplayFor(model => model.Code)
            </td>
        </tr>

        @if (!MzServiceTicker.Infrastructure.Session.SessionControl.IsTicketAdminSession())
        {
            <tr>
                <td>
                    @Html.Label(MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.UserId"))
                </td>
                <td>
                    @Html.DisplayFor(model => model.Username)
                </td>
            </tr>

            <tr>
                <td>
                    @Html.Label(MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.ContractCode"))
                </td>
                <td>
                    @Html.DisplayFor(model => model.ContractCode)
                </td>
            </tr>

            <tr>
                <td>
                    @Html.Label(MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.Priority"))
                </td>
                <td>
                    @Html.DisplayFor(model => model.Priority)
                </td>
            </tr>

            <tr>
                <td>
                    @Html.Label(MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.CustomerBranch"))
                </td>
                <td>
                    @Html.DisplayFor(model => model.CustomerBranch)
                </td>
            </tr>

            <tr>
                <td>
                    @Html.Label(MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.CustomerBranchName"))
                </td>
                <td>
                    @Html.DisplayFor(model => model.CustomerBranchName)
                </td>
            </tr>

            <tr>
                <td>
                    @Html.Label(MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.TicketDescription"))
                </td>
                <td>
                    @Html.DisplayFor(model => model.TicketDescription)
                </td>
            </tr>

            <tr>
                <td>
                    @Html.Label(MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.TicketOpenDateTime"))
                </td>
                <td>
                    @Html.DisplayFor(model => model.TicketOpenDateTime)
                </td>
            </tr>

            <tr>
                <td>
                    @Html.Label(MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.TicketDueDateTime"))
                </td>
                <td>
                    @Html.DisplayFor(model => model.TicketDueDateTime)
                </td>
            </tr>

            <tr>
                <td>
                    @Html.Label(MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.TicketComments"))
                </td>
                <td>
                    @Html.DisplayFor(model => model.TicketComments)
                </td>
            </tr>
        }

        <tr>
            <td class="col-md-5"></td>
            <td></td>
        </tr>

    </table>


    @using (Html.BeginForm(null, null, FormMethod.Post, new { @class = "form-horizontal" }))
    {
        @Html.AntiForgeryToken()
        <div style="color: red">@Html.ValidationSummary()</div>

        if (MzServiceTicker.Infrastructure.Session.SessionControl.IsTicketAdminSession())
        {
        <div class="form-group">
            @Html.Label(@MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.UserId"))
            @Html.DropDownListFor(model => model.UserId, Model.Users, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.UserId, null, new { @style = "color: red" })
        </div>

        <div class="form-group">
            @Html.Label(@MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.ContractCode"))
            @Html.DropDownListFor(model => model.ContractId, Model.Contracts, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.ContractId, null, new { @style = "color: red" })
        </div>

        <div class="form-group">
            @Html.Label(@MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.Priority"))
            @Html.TextBoxFor(model => model.Priority, new { @class = "form-control", placeholder = @MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.Priority.Placeholder"), type = "text" })
            @Html.ValidationMessageFor(model => model.Priority, null, new { @style = "color: red" })
        </div>

        <div class="form-group">
            @Html.Label(@MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.CustomerBranch"))
            @Html.TextBoxFor(model => model.CustomerBranch, new { @class = "form-control", placeholder = @MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.CustomerBranch.Placeholder"), type = "text" })
            @Html.ValidationMessageFor(model => model.CustomerBranch, null, new { @style = "color: red" })
        </div>
        
        <div class="form-group">
            @Html.Label(@MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.CustomerBranchName"))
            @Html.TextBoxFor(model => model.CustomerBranchName, new { @class = "form-control", placeholder = @MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.CustomerBranchName.Placeholder"), type = "text" })
            @Html.ValidationMessageFor(model => model.CustomerBranchName, null, new { @style = "color: red" })
        </div>
        
        <div class="form-group">
            @Html.Label(@MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.TicketDescription"))
            @Html.TextBoxFor(model => model.TicketDescription, new { @class = "form-control", placeholder = @MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.TicketDescription.Placeholder"), type = "text" })
            @Html.ValidationMessageFor(model => model.TicketDescription, null, new { @style = "color: red" })
        </div>
        
        <div class="form-group">
            @Html.Label(@MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.TicketOpenDateTime"))
            @Html.EditorFor(model => model.TicketOpenDateTime)
            @Html.ValidationMessageFor(model => model.TicketOpenDateTime, null, new { @style = "color: red" })
        </div>
        
        <div class="form-group">
            @Html.Label(@MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.TicketDueDateTime"))
            @Html.EditorFor(model => model.TicketDueDateTime, new { @class = "form-control", placeholder = @MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.TicketDueDateTime.Placeholder"), type = "text" })
            @Html.ValidationMessageFor(model => model.TicketDueDateTime, null, new { @style = "color: red" })
        </div>
        
        <div class="form-group">
            @Html.Label(@MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.TicketComments"))
            @Html.TextAreaFor(model => model.TicketComments, new { @class = "form-control", placeholder = @MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.TicketComments.Placeholder"), type = "text" })
            @Html.ValidationMessageFor(model => model.TicketComments, null, new { @style = "color: red" })
        </div>
        }
        
        <div class="form-group">
            @Html.Label(@MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.ServiceStartDateTime"))
            @Html.EditorFor(model => model.ServiceStartDateTime, new { @class = "form-control", placeholder = @MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.ServiceStartDateTime.Placeholder"), type = "text" })
            @Html.ValidationMessageFor(model => model.ServiceStartDateTime, null, new { @style = "color: red" })
        </div>

        <div class="form-group">
            @Html.Label(@MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.Status"))
            @Html.DropDownListFor(model => model.Status, new SelectList(Enum.GetValues(typeof(MzServiceTickerModel.Ticket.StatusType))), new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Status, null, new { @style = "color: red" })
        </div>

        <div class="form-group">
            @Html.Label(@MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.ServiceComments"))
            @Html.TextAreaFor(model => model.ServiceComments, new { @class = "form-control", placeholder = @MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Ticket.ServiceComments.Placeholder"), type = "text" })
            @Html.ValidationMessageFor(model => model.ServiceComments, null, new { @style = "color: red" })
        </div>

        @Html.HiddenFor(model => model.Code)
        @Html.HiddenFor(model => model.ContractId)

        @Html.ActionLink(@MzCommon.MessageHandler.MessageGetter.GetMessage("Screen.Return"), "Index", null, new { @class = "btn btn-primary" })
        <input type='submit' value='@MzCommon.MessageHandler.MessageGetter.GetMessage("Screen.Save")' class='btn btn-primary' />
    }

    <br />
</div>

