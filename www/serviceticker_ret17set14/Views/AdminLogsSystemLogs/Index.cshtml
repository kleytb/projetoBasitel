@model IEnumerable<MzServiceTicker.DataViewModels.LogViewModel>

<div class="row">


    @if (Model.Count() == 0)
    {
        <p>@MzCommon.MessageHandler.MessageGetter.GetMessage("Screen.NoData")</p>
    }
    else
    {
        WebGrid grid = new WebGrid(source: Model, rowsPerPage: 25, canPage: true, canSort: true);
    
        @grid.Pager(mode: WebGridPagerModes.All)

        @grid.GetHtml(tableStyle: "table table-striped table-bordered table-hover",
        columns: grid.Columns(
            grid.Column("DateTime", @MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Log.DateTime"), canSort: true),
            grid.Column("LogType", @MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Log.LogType"), canSort: true),
            grid.Column("Severity", @MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Log.Severity"), canSort: true),
            grid.Column("Source", @MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Log.Source"), canSort: true),
            grid.Column("Username", @MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Log.Username"), canSort: true),
            grid.Column("Message", @MzCommon.MessageHandler.MessageGetter.GetMessage("Object.Log.Message"), canSort: true),
            grid.Column(null, @MzCommon.MessageHandler.MessageGetter.GetMessage("Screen.Action"), format: (item) => new HtmlString(
                                                            Html.ActionLink(" ", "Details", Model.FirstOrDefault(record => record.Id == item.Id), new { @class = "glyphicon glyphicon-list", title = @MzCommon.MessageHandler.MessageGetter.GetMessage("Screen.Detail") }).ToString())
        )))

    }


</div>
