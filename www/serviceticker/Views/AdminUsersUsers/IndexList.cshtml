@model IEnumerable<MzServiceTicker.DataViewModels.UserViewModel>

<div class="row">

    @if (Model.Count() == 0)
    {
        <p>@MzCommon.MessageHandler.MessageGetter.GetMessage("Screen.NoData")</p>
    }
    else
    {
        WebGrid grid = new WebGrid(source: Model, rowsPerPage: 25, canPage: true, canSort: true, defaultSort: "Username");
    
        @grid.Pager(mode: WebGridPagerModes.All)

        @grid.GetHtml(tableStyle: "table table-striped table-bordered table-hover table-condensed",
                                    selectedRowStyle: "gridSelRow", rowStyle: "gridRow",
        columns: grid.Columns(
            grid.Column("Username", @MzCommon.MessageHandler.MessageGetter.GetMessage("Object.User.Username"), canSort: true),
            grid.Column("Name", @MzCommon.MessageHandler.MessageGetter.GetMessage("Object.User.Name"), canSort: true),
            grid.Column("Email", @MzCommon.MessageHandler.MessageGetter.GetMessage("Object.User.Email"), canSort: true),
            grid.Column("IsAdmin", @MzCommon.MessageHandler.MessageGetter.GetMessage("Object.User.IsAdmin"), canSort: true, format: item => item.IsAdmin ?
                            Html.Raw("<img src='Content/image/mz.icon.ok.jpg'/>") :
                            Html.Raw("<img src='Content/image/mz.icon.notok.jpg'/>")),
            grid.Column("IsTicketAdmin", @MzCommon.MessageHandler.MessageGetter.GetMessage("Object.User.IsTicketAdmin"), canSort: true, format: item => item.IsTicketAdmin ?
                            Html.Raw("<img src='Content/image/mz.icon.ok.jpg'/>") :
                            Html.Raw("<img src='Content/image/mz.icon.notok.jpg'/>")),
            grid.Column("IsTicketWorker", @MzCommon.MessageHandler.MessageGetter.GetMessage("Object.User.IsTicketWorker"), canSort: true, format: item => item.IsTicketWorker ?
                            Html.Raw("<img src='Content/image/mz.icon.ok.jpg'/>") :
                            Html.Raw("<img src='Content/image/mz.icon.notok.jpg'/>")),
            grid.Column("Enabled", @MzCommon.MessageHandler.MessageGetter.GetMessage("Object.User.Enabled"), canSort: true, format: item => item.Enabled ?
                            Html.Raw("<img src='Content/image/mz.icon.ok.jpg'/>") :
                            Html.Raw("<img src='Content/image/mz.icon.notok.jpg'/>")),
            grid.Column(null, @MzCommon.MessageHandler.MessageGetter.GetMessage("Screen.Action"), format: (item) => new HtmlString(
                                                            Html.ActionLink(" ", "Details", Model.FirstOrDefault(record => record.Id == item.Id), new { @class = "glyphicon glyphicon-list", title = @MzCommon.MessageHandler.MessageGetter.GetMessage("Screen.Detail") }).ToString() +
                                                            "&nbsp &nbsp" +
                                                            Html.ActionLink(" ", "Edit", Model.FirstOrDefault(record => record.Id == item.Id), new { @class = "glyphicon glyphicon-edit", title = @MzCommon.MessageHandler.MessageGetter.GetMessage("Screen.Edit") }).ToString() +
                                                            "&nbsp &nbsp" +
                                                            Html.ActionLink(" ", "ChangePassword", Model.FirstOrDefault(record => record.Id == item.Id), new { @class = "glyphicon glyphicon-lock", title = @MzCommon.MessageHandler.MessageGetter.GetMessage("Screen.ChangePassword") }).ToString() +
                                                            "&nbsp &nbsp" +
                                                            Html.ActionLink(" ", "Delete", Model.FirstOrDefault(record => record.Id == item.Id), new { @class = "glyphicon glyphicon-remove", title = @MzCommon.MessageHandler.MessageGetter.GetMessage("Screen.Delete") }).ToString())
        )))
    }
</div>



